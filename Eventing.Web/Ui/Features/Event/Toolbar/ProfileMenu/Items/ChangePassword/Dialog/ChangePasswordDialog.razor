<EditForm Model="@ChangePasswordModel" OnValidSubmit="UpdatePasswordAsync">
    <DataAnnotationsValidator/>
    <MudCard>
        <MudCardContent>
            <MudTextField Label="Old password" HelperText="Old password" Class="mb-1"
                          @bind-Value="ChangePasswordModel.OldPassword"
                          For="@(() => ChangePasswordModel.OldPassword)"
                          InputType="InputType.Password"
                          Adornment="Adornment.Start"
                          AdornmentIcon="@Icons.Material.Filled.Password"/>
            <MudTextField Label="New Password" HelperText="Choose a strong password" Class="mb-1"
                          @bind-Value="ChangePasswordModel.NewPassword"
                          For="@(() => ChangePasswordModel.NewPassword)" InputType="InputType.Password"
                          Adornment="Adornment.Start"
                          AdornmentIcon="@Icons.Material.Filled.Password"/>
            <MudTextField Label="Confirm new password" HelperText="Repeat the new password"
                          @bind-Value="ChangePasswordModel.ConfirmNewPassword"
                          For="@(() => ChangePasswordModel.ConfirmNewPassword)" InputType="InputType.Password"
                          Adornment="Adornment.Start"
                          AdornmentIcon="@Icons.Material.Filled.Password"/>
        </MudCardContent>
        @if (_isLoading)
        {
            <MudProgressLinear Color="Color.Primary" Indeterminate="true"/>
        }
        else
        {
            <MudCardActions>
                <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary"
                           Class="ml-auto">Change
                </MudButton>
            </MudCardActions>
        }
    </MudCard>
</EditForm>